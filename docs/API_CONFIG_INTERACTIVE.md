# 交互式 API 配置功能

## 🎯 功能概述

通过 `/api config` 命令，您现在可以：
1. 选择要配置的 API 提供商
2. 直接粘贴 API 密钥
3. 选择是否保存到 `.env` 文件
4. 自动激活配置的 API

## 📋 使用流程

### 步骤 1：运行配置命令
```
/api config
```

### 步骤 2：选择 API 提供商
使用方向键选择您要配置的 API：
- DeepSeek
- Alibaba Cloud (DashScope)
- Anthropic (Claude)
- OpenAI
- OpenRouter
- Gemini

### 步骤 3：输入 API 密钥
- 粘贴您的 API 密钥
- 如果该 API 已配置，可以直接按 Enter 跳过

### 步骤 4：选择保存方式
- **推荐**：保存到 `.env` 文件（持久化）
- 仅在当前会话使用（临时）

## ✨ 功能特点

### 🔐 安全性
- API 密钥不会显示在命令历史中
- 支持粘贴长密钥
- 可选择是否持久化保存

### 🚀 便利性
- 配置完成后自动激活 API
- 无需手动编辑 `.env` 文件
- 提供每个 API 的获取密钥链接

### 💾 持久化
- 自动创建或更新 `.env` 文件
- 智能处理已存在的配置
- 支持多个 API 密钥共存

## 🛡️ 最佳实践

1. **使用 .env 文件**
   - 选择保存到文件以便下次使用
   - 确保 `.env` 在 `.gitignore` 中

2. **密钥管理**
   - 定期更新 API 密钥
   - 不要分享包含密钥的 `.env` 文件

3. **切换 API**
   - 配置多个 API 后使用 `/api switch` 切换
   - 使用 `/api status` 查看当前状态

## 🔧 故障排除

### 配置后 API 未激活？
- 检查 `/api status` 查看详情
- 确认环境变量已正确设置
- 尝试重启 CLI

### 无法保存到 .env 文件？
- 检查当前目录的写入权限
- 确保不在只读文件系统中

### API 密钥无效？
- 确认密钥没有额外的空格
- 检查密钥是否已过期
- 访问对应网站验证密钥状态 